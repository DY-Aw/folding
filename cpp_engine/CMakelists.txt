cmake_minimum_required(VERSION 3.10)
project(folding)

set(CMAKE_CXX_STANDARD 17)
set(TARGET main)
set(SOURCES
  src/main.cpp
  src/camera.cpp
  src/events.cpp
  src/shader.cpp
  src/glad.c
  src/mesh/mesh.cpp
  src/mesh/meshgeometry.cpp
  src/mesh/meshgpu.cpp
  src/mesh/meshio.cpp
)

include_directories(include)

include(FetchContent)
FetchContent_Declare(
  glfw
  GIT_REPOSITORY https://github.com/glfw/glfw.git
  GIT_TAG 3.3.8
)
set(GLFW_BUILD_DOCS OFF CACHE BOOL "" FORCE)
FetchContent_MakeAvailable(glfw)

find_package(OpenGL REQUIRED)

add_executable(${TARGET} ${SOURCES})

target_include_directories(${TARGET} PRIVATE
  "${CMAKE_CURRENT_SOURCE_DIR}/include"
  "${CMAKE_CURRENT_SOURCE_DIR}/src"
)

target_link_libraries(${TARGET} glfw)
target_link_libraries(${TARGET} OpenGL::GL)

file(COPY ${CMAKE_CURRENT_SOURCE_DIR}/shaders DESTINATION ${CMAKE_CURRENT_BINARY_DIR})
file(COPY ${CMAKE_CURRENT_SOURCE_DIR}/models DESTINATION ${CMAKE_CURRENT_BINARY_DIR})